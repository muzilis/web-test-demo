<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
</head>
<body>
<ul id="ul1">
    <li>111</li>
    <li>222</li>
    <li>333</li>
</ul>

<button id="btn">click</button>

<script>

    //闭包在表象上是外部函数内部声明内部函数，内部函数引用外问函数中的局部变量，这样当外部函数执行完毕时，局部变量不被释放

    function aa(){
        var a = 5;
        return function(){
            return a;
        };
    }

    var b = aa();

    var oUl = document.getElementById('ul1');
    var aLi = oUl.getElementsByTagName('li');
    for(var i=0; i<aLi.length; i++){
        (function(index){
            aLi[i].onclick = function(){
                alert(index);
            };
        })(i);
    }

//    (function(){
//        var i=0;
//        for(; i<aLi.length; i++){
//            aLi[i].onclick = function(){
//                alert(i);
//            };
//        }
//    })();




    /*var oBtn = document.getElementById('btn');
    oBtn.onclick = function(){
        var that = this;
        setTimeout(function(){
            that.style.background = 'red';
        }, 2000);

    };*/

</script>

</body>
</html>